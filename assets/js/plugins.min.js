"use strict";!function(t){t.fn.sanityForm=function(e){t(this).each((function(){new i(t(this),e)}))};let i=function(i,e){let n,s={request:"sendContacts.php",messages:{error:"Извините! При отправке возникла ошибка, пожалуйста перезагрузите страницу и попробуйте еще раз.",success:"Ваши данные отправлены!"},actions:{error:function(){},success:function(){}},timeout:2500};this.construct=function(i,e){t.extend(s,e),i.addClass("sanity_form"),n=t('<div class="sanity_form__lock">').appendTo(i),i.submit((function(i){i.preventDefault(),grecaptcha.ready((()=>{grecaptcha.execute("6LejgjYkAAAAAGOF9yROsbo3uMlIlxSKyvm6dMWU",{action:"submit"}).then((i=>{const e=new FormData(this);e.set("token",i),t.ajax({url:s.request,method:"post",data:e,dataType:"json",contentType:!1,cache:!1,processData:!1,beforeSend:function(){n.addClass("show"),n.append('<div class="sanity_form__lock__loader">')},success:function(t){"fail"===t.status?(console.error(s.messages.error),o("fail",s.messages.error),s.actions.error()):(o("success",s.messages.success),s.actions.success(),console.log(t))},error:function(t){console.error(t),o("fail",s.messages.error),s.actions.error()}})}))}))}))};let o=function(t,i){setTimeout((function(){n.empty(),n.append('<div class="sanity_form__lock__icon sanity_form__lock__icon_'+t+'"></div><span class="sanity_form__lock__message">'+i+"</span>")}),s.timeout)};this.construct(i,e)};t.fn.sanitySlider=function(i){t(this).each((function(){new e(t(this),i)}))};let e=function(i,e){let n,s,o,a,r,l,d,c,m={itemsPerSlide:1,itemMargin:20,itemWidth:null,controlArrows:!0,controlArrowsClass:"",controlDots:!1,loop:!1,slideByItem:!1,height:null,tablet:{itemsPerSlide:1,itemMargin:10,itemWidth:null},mobile:{itemsPerSlide:1,itemMargin:8,itemWidth:null},mobile_s:{itemsPerSlide:1,itemMargin:5,itemWidth:null},id:"default",autoHeight:!1},u={slideByItem:!1,itemsPerSlide:2,itemMargin:20,responsive:!1,startIdx:0,endIdx:0,rewind:0,itemWidth:null,auto:!1};this.construct=function(i,e){if(e&&t.extend(m,e),i.addClass("sanity_slider"),t("> .sanity_slider__control",i).length)s=t("> .sanity_slider__control .sanity_slider__arrow.sanity_slider__arrow_left",i),n=t("> .sanity_slider__control .sanity_slider__arrow.sanity_slider__arrow_right",i);else{let e=t('<div class="sanity_slider__control"></div>').appendTo(i);m.controlArrows&&(s=t('<a class="sanity_slider__arrow '+m.controlArrowsClass+' sanity_slider__arrow_left"></a>').appendTo(e),n=t('<a class="sanity_slider__arrow '+m.controlArrowsClass+' sanity_slider__arrow_right"></a>').appendTo(e))}if(m.controlDots&&(o=t('<div class="dots"></div>').appendTo(i)),a=t("> .sanity_slider__content",i),a.wrapInner('<div class="sanity_slider__content__slides"></div>'),l=t("> .sanity_slider__content__slides",a),d=t("> *",l).length,m.height&&l.css("height",m.height),d>1&&p(),_(),d<=1)return console.warn("Sanity.Slider."+m.id+": "+d),s.css("visibility","hidden"),void n.css("visibility","hidden");if(f(),v(),b(),m.auto&&setInterval((function(){g()}),m.auto),!h.any()){let i;t(window).resize((function(){clearTimeout(i),i=setTimeout((function(){_(),y()}),300)}))}};let h={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return h.Android()||h.BlackBerry()||h.iOS()||h.Opera()||h.Windows()}},_=function(){let i=t(window).width();i>=768&&i<1024?(u.itemsPerSlide=m.tablet.itemsPerSlide,u.itemMargin=m.tablet.itemMargin,u.responsive=!1,u.itemWidth=m.tablet.itemWidth):i>=550&&i<778?(u.itemsPerSlide=m.mobile.itemsPerSlide,u.itemMargin=m.mobile.itemMargin,u.responsive=!1,u.itemWidth=m.mobile.itemWidth):i<550?(u.itemsPerSlide=m.mobile_s.itemsPerSlide,u.itemMargin=m.mobile_s.itemMargin,u.responsive=!1,u.itemWidth=m.mobile_s.itemWidth):(u.itemsPerSlide=m.itemsPerSlide,u.itemMargin=m.itemMargin,u.responsive=m.responsive,u.itemWidth=m.itemWidth),u.responsive&&(u.itemsPerSlide=1),1===u.itemsPerSlide?u.slideByItem=!1:u.slideByItem=m.slideByItem,r=a.outerWidth();let e=0;l.children().each((function(){let i=0;i=u.itemWidth?u.itemWidth:u.responsive&&t(this)[0].hasAttribute("data-size")&&u.slideByItem?r/parseInt(t(this).attr("data-size"))-u.itemMargin:r/u.itemsPerSlide-u.itemMargin,t(this).width(i),t(this).css("margin","0 "+u.itemMargin/2+"px"),e=e+i+2*u.itemMargin})),l.css("width",e+"px")},p=function(){if(m.loop){let i=l.children().slice(0,u.itemsPerSlide).clone(),e=l.children().slice(-u.itemsPerSlide).clone();i.appendTo(l).addClass("clone").removeClass("active"),e.prependTo(l).addClass("clone").removeClass("active"),d=t("> *",l).length,u.startIdx=u.itemsPerSlide,u.endIdx=d-u.itemsPerSlide-u.itemsPerSlide}else u.startIdx=0,u.endIdx=d;c=u.startIdx},f=function(){m.controlArrows&&(m.loop?(s.css("visibility","visible"),n.css("visibility","visible")):(c>0?s.css("visibility","visible"):s.css("visibility","hidden"),c+u.itemsPerSlide>=d?n.css("visibility","hidden"):n.css("visibility","visible")))},y=function(){console.warn("Sanity.Slider: reset!"),c=0,b(),f()},v=function(){m.controlArrows&&(n.bind("click",g),s.bind("click",w))},g=function(){t(t("> div",l).get(c)).removeClass("active"),u.slideByItem?c++:c+=u.itemsPerSlide,m.loop?u.startIdx+c>=d?u.rewind=u.startIdx+(c+u.startIdx-d):u.rewind=0:c>d&&(c=d),b()},w=function(){t(t("> div",l).get(c)).removeClass("active"),u.slideByItem?c--:c-=u.itemsPerSlide,m.loop?0===c?u.rewind=u.endIdx:c<u.itemsPerSlide?u.rewind=u.endIdx+c:u.rewind=0:c<0&&(c=0),b()},b=function(){try{f(),m.controlArrows&&(n.unbind("click"),s.unbind("click"));let i=t(t("> div",l).get(c));i.addClass("active");let e=-1*i.position().left;l.animate({textIndent:0},{duration:300,step:function(i,n){t(this).css({"-webkit-transform":"translate3d("+e+"px,0,0)","-moz-transform":"translate3d("+e+"px,0,0)","-ms-transform:":"translate3d("+e+"px,0,0)","-o-transform":"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)","-webkit-transition":"transform .3s linear","-moz-transition":"transform .3s linear","-o-transition":"transform .3s linear",transition:"transform .3s linear"})},complete:function(){t(this).css({"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"}),function(){if(0!==u.rewind){t(t("> div",l).get(c)).removeClass("active");let i=t(t("> div",l).get(u.rewind));i.addClass("active");let e=-1*i.position().left;l.animate({textIndent:0},{duration:0,step:function(i,n){t(this).css({"-webkit-transform":"translate3d("+e+"px,0,0)","-moz-transform":"translate3d("+e+"px,0,0)","-ms-transform:":"translate3d("+e+"px,0,0)","-o-transform":"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)","-webkit-transition":"transform 0s linear","-moz-transition":"transform 0s linear","-o-transition":"transform 0s linear",transition:"transform 0s linear"})},complete:function(){t(this).css({"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})},easing:"linear"}),c=u.rewind,u.rewind=0}}(),v(),1===m.itemsPerSlide&&m.autoHeight&&a.css("height",i.innerHeight())},easing:"linear"})}catch(t){console.error("Sanity.Slider."+m.id+": "+t)}};this.construct(i,e)};t.fn.sanityTabs=function(i){new n(t(this),i)};let n=function(i,e){let n,s,o={timeout:20};this.construct=function(i,e){t.extend(o,e),i.addClass("sanity_tabs"),n=t(".sanity_tabs__head",i),s=t(".sanity_tabs__content",i),t(".sanity_tabs__head__item",n).on("click",(function(){let i=t(this);if(!i.hasClass("active")){let e=t(this).siblings(".active"),n=e.index(),a=i.index();e.removeClass("active"),i.addClass("active"),s.children().eq(n).removeClass("active"),s.children().eq(a).addClass("active"),setTimeout((function(){s.children().eq(n).removeClass("visible")}),o.timeout),setTimeout((function(){s.children().eq(a).addClass("visible")}),o.timeout)}}))},this.construct(i,e)};t(document).ready((function(){t('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click((function(i){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){let i=t(this.hash);i=i.length?i:t("[name="+this.hash.slice(1)+"]"),i.length&&t("html, body").animate({scrollTop:i.offset().top-100},1e3,(function(){}))}})),t("[sanity-smooth-scroll]").click((function(i){t("html,body").animate({scrollTop:t("#"+t(this).attr("sanity-smooth-scroll")).offset().top},1e3)}))})),t.fn.sanityPopup=function(i){t(this).each((function(){new s(t(this),i)}))};let s=function(i,e){let n,s,o={closeClass:"",timeout:1},a=!1;this.construct=function(i,e){t.extend(o,e),i.addClass("sanity_popup"),t(".sanity_popup__close",i).length?(s=t(".sanity_popup__close",i),s.addClass(o.closeClass)):s=t('<div class="sanity_popup__close '+o.closeClass+'">').appendTo(i),i.wrapInner('<div class="sanity_popup__content">'),n=i.attr("sanity-popup"),t('[sanity-popup-trigger="'+n+'"]').on("click",(function(){r()})),t(i).on("click",(function(e){let n=t(e.target);(n.is(i)||n.is(s)||n.is(t("*",s)))&&l()})),t(i).on("close",(function(){l()}))};let r=function(){a||(a=!0,i.addClass("sanity_popup_display"),t("html").addClass("overflow_hidden"),i.removeClass("sanity_popup_out").addClass("sanity_popup_in"),i.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",(function(t){a=!1})))},l=function(){a||(a=!0,i.removeClass("sanity_popup_in").addClass("sanity_popup_out"),i.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",(function(e){a=!1,i.removeClass("sanity_popup_display"),t("html").removeClass("overflow_hidden")})))};this.construct(i,e)}}(jQuery);